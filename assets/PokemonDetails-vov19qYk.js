var N=Object.defineProperty;var L=(a,e,s)=>e in a?N(a,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[e]=s;var p=(a,e,s)=>(L(a,typeof e!="symbol"?e+"":e,s),s);import{u as B,b as E,a as F,_ as O,L as C,S as R}from"./Loading-C1rmkWP8.js";import{d as V,i as I,s as j,r as c,o as D,k as v,x as H,a as m,c as u,b as t,l as i,m as g,y as T,F as U,q as $,t as y}from"./index-DVng2jtO.js";class q{constructor(e){p(this,"skills",[]);this.services=e}async execute(e){return this.skills=await Promise.all(e.map(s=>this.searchSkills(s.id))),this.getSkillsFilteredOnlyByEN()}searchSkills(e){return this.services.pokemons.searchBySkillId(e)}getSkillsFilteredOnlyByEN(){return this.skills.map(e=>({id:e.id,name:e.name,effect_entries:this.searchENLanguageSkill(e.effect_entries)}))}searchENLanguageSkill(e){return e.find(s=>s.language.name==="en")}}const M={class:"w-full lg:w-7/12 flex flex-row mx-auto mb-4"},z={class:"flex flex-col mx-auto items-center w-full lg:w-7/12"},A={class:"w-full mb-8"},G={class:"w-full px-4 bg-white border shadow-md rounded-md"},J=t("div",{class:"flex justify-center"},[t("span",{class:"font-semibold text-xl py-3"},"Habilidades")],-1),K={class:"py-3"},Q={class:"border-t py-4 text-gray-700"},W={class:"font-semibold uppercase"},ee=V({__name:"PokemonDetails",setup(a){const e=I("services"),s=j(),d=B(),f=c([]),o=c(new E(0,"",[],[])),r=c(!1);D(()=>S());const S=()=>{if(r.value=!0,d.getPokemonList.length){o.value=k.value,h();return}return x()},h=async(n=k.value)=>{const l=new q(e);f.value=await l.execute(n.abilities),r.value=!1},k=v(()=>d.getPokemonList.find(n=>n.id===Number(s.params.idOrName))),x=async()=>{const n=w.value,l=new R(e);o.value=await l.execute(n),h(o.value)},w=v(()=>s.params.idOrName);return(n,l)=>{const b=H("RouterLink");return m(),u("div",null,[t("div",M,[i(b,{to:"/pokemons",class:"text-blue-500 font-semibold hover:font-bold"},{default:g(()=>[T("Voltar")]),_:1})]),t("div",z,[t("div",A,[i(O,{name:o.value.name,id:o.value.id,class:"h-72"},{"card-footer-content":g(()=>[i(F,{types:o.value.types},null,8,["types"])]),_:1},8,["name","id"])]),t("div",G,[J,t("div",K,[(m(!0),u(U,null,$(f.value,(_,P)=>(m(),u("div",{key:P},[t("p",Q,[t("span",W,y(_.name)+": ",1),t("span",null,y(_.effect_entries.short_effect),1)])]))),128))])]),i(C,{"is-loading":r.value},null,8,["is-loading"])])])}}});export{ee as default};
